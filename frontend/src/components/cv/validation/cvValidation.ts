import * as Yup from 'yup';

export const cvValidationSchema = Yup.object({
  personalInfo: Yup.object({
    fullName: Yup.string()
      .required('الاسم الكامل مطلوب')
      .min(3, 'الاسم يجب أن يكون 3 أحرف على الأقل')
      .max(50, 'الاسم يجب أن لا يتجاوز 50 حرف')
      .matches(/^[\u0600-\u06FFa-zA-Z\s]+$/, 'الاسم يجب أن يحتوي على حروف فقط'),
    title: Yup.string()
      .required('المسمى الوظيفي مطلوب')
      .min(3, 'المسمى الوظيفي يجب أن يكون 3 أحرف على الأقل')
      .max(50, 'المسمى الوظيفي يجب أن لا يتجاوز 50 حرف'),
    email: Yup.string()
      .email('البريد الإلكتروني غير صالح')
      .required('البريد الإلكتروني مطلوب'),
    phone: Yup.string()
      .matches(/^[+]?[0-9]{10,15}$/, 'رقم الهاتف غير صالح، يجب أن يكون بين 10-15 رقم')
      .required('رقم الهاتف مطلوب'),
    location: Yup.string()
      .required('الموقع مطلوب')
      .min(3, 'الموقع يجب أن يكون 3 أحرف على الأقل'),
  }),
  summary: Yup.string()
    .required('الملخص مطلوب')
    .min(50, 'الملخص يجب أن يكون 50 حرف على الأقل')
    .max(500, 'الملخص يجب أن لا يتجاوز 500 حرف'),
  experience: Yup.array().of(
    Yup.object({
      title: Yup.string()
        .required('المسمى الوظيفي مطلوب')
        .min(3, 'المسمى الوظيفي يجب أن يكون 3 أحرف على الأقل'),
      company: Yup.string()
        .required('اسم الشركة مطلوب')
        .min(2, 'اسم الشركة يجب أن يكون حرفين على الأقل'),
      period: Yup.string()
        .required('الفترة مطلوبة')
        .matches(/^(0[1-9]|1[0-2])\/\d{4}\s*-\s*((0[1-9]|1[0-2])\/\d{4}|الحالي)$/, 'الفترة يجب أن تكون بالصيغة: MM/YYYY - MM/YYYY أو MM/YYYY - الحالي'),
      description: Yup.array()
        .of(Yup.string()
          .required('الوصف مطلوب')
          .min(10, 'الوصف يجب أن يكون 10 أحرف على الأقل')
          .max(200, 'الوصف يجب أن لا يتجاوز 200 حرف'))
        .min(1, 'يجب إضافة وصف واحد على الأقل')
        .max(5, 'لا يمكن إضافة أكثر من 5 أوصاف'),
    })
  ).min(1, 'يجب إضافة خبرة واحدة على الأقل'),
  education: Yup.array().of(
    Yup.object({
      degree: Yup.string()
        .required('الدرجة العلمية مطلوبة')
        .min(2, 'الدرجة العلمية يجب أن تكون حرفين على الأقل'),
      institution: Yup.string()
        .required('اسم المؤسسة التعليمية مطلوب')
        .min(2, 'اسم المؤسسة يجب أن يكون حرفين على الأقل'),
      period: Yup.string()
        .required('الفترة مطلوبة')
        .matches(/^(0[1-9]|1[0-2])\/\d{4}\s*-\s*((0[1-9]|1[0-2])\/\d{4}|الحالي)$/, 'الفترة يجب أن تكون بالصيغة: MM/YYYY - MM/YYYY أو MM/YYYY - الحالي'),
      details: Yup.string()
        .required('التفاصيل مطلوبة')
        .min(10, 'التفاصيل يجب أن تكون 10 أحرف على الأقل')
        .max(200, 'التفاصيل يجب أن لا تتجاوز 200 حرف'),
    })
  ).min(1, 'يجب إضافة تعليم واحد على الأقل'),
  skills: Yup.array()
    .of(Yup.string()
      .required('المهارة مطلوبة')
      .min(2, 'المهارة يجب أن تكون حرفين على الأقل')
      .max(30, 'المهارة يجب أن لا تتجاوز 30 حرف'))
    .min(3, 'يجب إضافة 3 مهارات على الأقل')
    .max(15, 'لا يمكن إضافة أكثر من 15 مهارة'),
}); 